[{"path":"https://osu-bee-lab.github.io/buzzr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 OSU Bee Lab Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"tldr","dir":"Articles","previous_headings":"","what":"TL;DR","title":"Using buzzr to handle buzzdetect data","text":"core buzzr functionality wrapped single function, buzzr::bin_directory. function reads buzzdetect results folder (recursively), translates file times (audio timestamps seconds) date-times (e.g. “January 1, 2000 12:42 PM”), applies thresholds turn neuron activations detections, bins detections according start time. ’s example:","code":"df <- buzzr::bin_directory(   dir_results=system.file('extdata/five_flowers', package='buzzr'),   thresholds = c(ins_buzz=-1.2),   posix_formats = '%y%m%d_%H%M',   dir_nesting = c('flower','recorder'),   tz = 'America/New_York',   binwidth = 20 ) ## Grouping time bins using columns: flower, recorder head(df) ##     flower recorder        bin_datetime detections_ins_buzz frames ##     <char>   <char>              <POSc>               <int>  <num> ## 1: chicory    1_104 2025-07-04 00:00:00                   1   1250 ## 2: chicory    1_104 2025-07-04 00:20:00                   4   1250 ## 3: chicory    1_104 2025-07-04 00:40:00                   3   1250 ## 4: chicory    1_104 2025-07-04 01:00:00                   2   1250 ## 5: chicory    1_104 2025-07-04 01:20:00                   0   1250 ## 6: chicory    1_104 2025-07-04 01:40:00                   0   1250"},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"dataset","dir":"Articles","previous_headings":"","what":"Dataset","title":"Using buzzr to handle buzzdetect data","text":"walkthrough, use buzzdetect results included package. results correspond recordings described buzzdetect manuscript. Recorders placed five flowers bloom (chicory, mustard, pumpkin, soybean, watermelon) allowed record 24 hours. resulting audio analyzed buzzdetect; ’ll refer resulting dataset “Five Flowers” dataset. keep buzzr version dataset light, retained single recorder plant trimmed files. Find full dataset Zenodo repository.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"locating-the-dataset","dir":"Articles","previous_headings":"Dataset","what":"Locating the dataset","title":"Using buzzr to handle buzzdetect data","text":"path Five Flowers dataset machine can retrieved system.file function. Let’s look. see results stored folders according pattern flower/recorder_id/HHMMDD_MMSS_buzzdetect.csv.","code":"library(buzzr) dir_data <- system.file('extdata/five_flowers', package='buzzr')  paths_results <- list.files(   dir_data,   recursive=T )  head(paths_results) ## [1] \"chicory/1_104/250704_0000_buzzdetect.csv\"   ## [2] \"mustard/54/240904_0000_buzzdetect.csv\"      ## [3] \"pumpkin/1_37/240808_0000_buzzdetect.csv\"    ## [4] \"soybean/9/230809_0000_buzzdetect.csv\"       ## [5] \"watermelon/1_73/240727_0000_buzzdetect.csv\""},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"results-file-structure","dir":"Articles","previous_headings":"Dataset","what":"Results file structure","title":"Using buzzr to handle buzzdetect data","text":"Let’s look single results file using base R: start column activations different neurons. row single frame, 0.96s span audio results.","code":"path_results <- file.path(dir_data, paths_results[1])  df_base <- read.csv(path_results) head(df_base) ##   start activation_ins_buzz activation_ambient_rain activation_ins_trill ## 1  0.00                -1.7                    -2.0                 -1.9 ## 2  0.96                -2.0                    -2.0                 -1.9 ## 3  1.92                -2.1                    -2.8                 -2.8 ## 4  2.88                -2.0                    -2.6                 -2.4 ## 5  3.84                -2.0                    -2.3                 -2.4 ## 6  4.80                -1.8                    -1.5                 -1.6 ##   activation_mech_plane ## 1                  -2.2 ## 2                  -2.4 ## 3                  -3.4 ## 4                  -3.2 ## 5                  -2.5 ## 6                  -2.3"},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"reading","dir":"Articles","previous_headings":"","what":"Reading results","title":"Using buzzr to handle buzzdetect data","text":"Result files can well hundred thousand rows long, read.csv quite slow. Let’s try buzzr instead, leverages data.table::fread. function want buzzr::read_results can see buzzr renamed default “start” column buzzr convention “start_filetime”. allows buzzr distinguish timestamps file-time (seconds start file) timestamps real-world time (date-time).","code":"df_buzzr <- buzzr::read_results(path_results) head(df_buzzr) ##    start_filetime activation_ins_buzz activation_ambient_rain ##             <num>               <num>                   <num> ## 1:           0.00                -1.7                    -2.0 ## 2:           0.96                -2.0                    -2.0 ## 3:           1.92                -2.1                    -2.8 ## 4:           2.88                -2.0                    -2.6 ## 5:           3.84                -2.0                    -2.3 ## 6:           4.80                -1.8                    -1.5 ##    activation_ins_trill activation_mech_plane ##                   <num>                 <num> ## 1:                 -1.9                  -2.2 ## 2:                 -1.9                  -2.4 ## 3:                 -2.8                  -3.4 ## 4:                 -2.4                  -3.2 ## 5:                 -2.4                  -2.5 ## 6:                 -1.6                  -2.3"},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"using-buzzr-to-interpret-date-time","dir":"Articles","previous_headings":"Reading results","what":"Using buzzr to interpret date-time","title":"Using buzzr to handle buzzdetect data","text":"can use buzzr interpret date-time recording name results file. , need several arguments. posix_formats: string (vector strings) containing POSIX format code. files saved 2-digit year, 2-digit month, 2-digit day, underscore, 24-hour hour, minute. , “YYMMDD_HHMM”. way write POSIX format string : %y%m%d_%H%M. first_match: multiple POSIX format strings supplied file matches multiple formats, first match used (TRUE) NA returned (FALSE, default)? won’t needed ’re working single file, multiple format (perhaps using different recorders experiment), allows read_directory bin_directory read results one go. drop_filetime: output results retain start_filetime column alongside start_datetime (FALSE) dropped (TRUE)? Note: argument respected POSIX formats given. File-time dropped time column. tz: time zone use POSIX translation. Required translating results date-time. match time zone recordings. Time zones real nightmare. ’re finding everything plotting incorrectly, ’s probably time zone issue. Date-time data unfortunately cumbersome, figure settings per project. Now can see ’ve successfully translated file-time date-time. “start_filetime” present (since chose drop ), also “start_datetime” holding date-time. Usually care date-time, file-time can useful. example, find frames detected buzzes use FFmpeg extract audio corresponding file times.","code":"df_datetime <- buzzr::read_results(   path_results,   posix_formats = '%y%m%d_%H%M',  # YYMMDD_HHMM   first_match = FALSE,  # doesn't matter in this case, since we have only one format   drop_filetime = FALSE,  # keep the start_filetime column (by default, it's dropped)   tz='America/New_York'  # the time zone these data were collected in )  head(df_datetime) ##         start_datetime start_filetime activation_ins_buzz ##                 <POSc>          <num>               <num> ## 1: 2025-07-04 00:00:00           0.00                -1.7 ## 2: 2025-07-04 00:00:00           0.96                -2.0 ## 3: 2025-07-04 00:00:01           1.92                -2.1 ## 4: 2025-07-04 00:00:02           2.88                -2.0 ## 5: 2025-07-04 00:00:03           3.84                -2.0 ## 6: 2025-07-04 00:00:04           4.80                -1.8 ##    activation_ambient_rain activation_ins_trill activation_mech_plane ##                      <num>                <num>                 <num> ## 1:                    -2.0                 -1.9                  -2.2 ## 2:                    -2.0                 -1.9                  -2.4 ## 3:                    -2.8                 -2.8                  -3.4 ## 4:                    -2.6                 -2.4                  -3.2 ## 5:                    -2.3                 -2.4                  -2.5 ## 6:                    -1.5                 -1.6                  -2.3"},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"using-buzzr-to-interpret-file-structure","dir":"Articles","previous_headings":"Reading results","what":"Using buzzr to interpret file structure","title":"Using buzzr to handle buzzdetect data","text":"’ll probably find convenient organize recordings according schema. example, dataset placed recordings folders corresponding recorder ID placed folders ones corresponding plant type. buzzr lets us extract information file path. can two arguments: dir_nesting: character vector used name directory levels results file. , level results represent? element becomes column output, storing components path data file. return_filename: filename placed column? probably won’t care unless want pin specific problematic recording. example, see large spike positives 3:00AM, may want investigate. isn’t terribly useful ’re d ealing single file, ’s convenient read entire directory. However, file structure must rectangular! , every file level nesting. foo/bar/results.csv foo/bar/lorem/results.csv won’t work.","code":"df_nesting <- buzzr::read_results(   path_results,   dir_nesting = c('flower', 'recorder'),   return_filename = T )  head(df_nesting) ##     flower recorder                   filename start_filetime ##     <char>   <char>                     <char>          <num> ## 1: chicory    1_104 250704_0000_buzzdetect.csv           0.00 ## 2: chicory    1_104 250704_0000_buzzdetect.csv           0.96 ## 3: chicory    1_104 250704_0000_buzzdetect.csv           1.92 ## 4: chicory    1_104 250704_0000_buzzdetect.csv           2.88 ## 5: chicory    1_104 250704_0000_buzzdetect.csv           3.84 ## 6: chicory    1_104 250704_0000_buzzdetect.csv           4.80 ##    activation_ins_buzz activation_ambient_rain activation_ins_trill ##                  <num>                   <num>                <num> ## 1:                -1.7                    -2.0                 -1.9 ## 2:                -2.0                    -2.0                 -1.9 ## 3:                -2.1                    -2.8                 -2.8 ## 4:                -2.0                    -2.6                 -2.4 ## 5:                -2.0                    -2.3                 -2.4 ## 6:                -1.8                    -1.5                 -1.6 ##    activation_mech_plane ##                    <num> ## 1:                  -2.2 ## 2:                  -2.4 ## 3:                  -3.4 ## 4:                  -3.2 ## 5:                  -2.5 ## 6:                  -2.3"},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"detections","dir":"Articles","previous_headings":"","what":"Calling detections","title":"Using buzzr to handle buzzdetect data","text":"Raw neuron activations useful ; threshold must applied convert activations discrete detections. threshold call detections depends model ’re using want balance detection sensitivity false positive rate. recommend using threshold 95% precision (95% called buzzes true) starting point, may want fine-tune detections low sources false positives audio. model_general_v3, threshold -1.2 good starting point calling buzzes. threshold roughly correspond 95% precision. Activations value count detected instances buzzing. vignette, ’ll also try detecting planes threshold -2. threshold arbitrary untested, let us see buzzr handles multiple detection columns. can call detections applying function buzzr::call_detections results data frame neuron activations. call_detections takes one argument addition results data frame: thresholds: named numeric vector names corresponding neurons binned values corresponding desired threshold. can see retain two time columns, “activation_” columns named thresholds replaced “detections_”. Neurons without threshold dropped. detections binary TRUE/FALSE values. may interested total number detections, case simply sum column. Across whole day, saw 2,604 detections 90,000 frames average detection rate 0.03. total detection rates valuable cases, common interest change detection rate time. , need bin.","code":"df_called <- buzzr::call_detections(   df_datetime,   thresholds = c(     ins_buzz = -1.2,     mech_plane = -2   ) )  head(df_called) ##         start_datetime start_filetime detections_ins_buzz detections_mech_plane ##                 <POSc>          <num>              <lgcl>                <lgcl> ## 1: 2025-07-04 00:00:00           0.00               FALSE                 FALSE ## 2: 2025-07-04 00:00:00           0.96               FALSE                 FALSE ## 3: 2025-07-04 00:00:01           1.92               FALSE                 FALSE ## 4: 2025-07-04 00:00:02           2.88               FALSE                 FALSE ## 5: 2025-07-04 00:00:03           3.84               FALSE                 FALSE ## 6: 2025-07-04 00:00:04           4.80               FALSE                 FALSE total_detections <- sum(df_called$detections_ins_buzz) print(total_detections) ## [1] 2604"},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"binning","dir":"Articles","previous_headings":"","what":"Binning","title":"Using buzzr to handle buzzdetect data","text":"bin detections time, can apply function buzzr::bin results data frame called detections. bin needs two arguments addition data frame: binwidth: size bin minutes calculate_rate: want buzzr automatically calculate detection rates (detections/frames) detection columns? might seem like always desired, sometimes want modify binned results multiple times. E.g., first bin width 1 compress data, bin width 15 graphing width 60 statistical analysis. case, might well save rate calculation end. can see buzzr handled file-time date-time problem now detections turned booleans integers. Let’s see data look like!  Cool! see obvious trend buzz detections launching early morning, dropping midday. false positives night, ’re dwarfed signal daytime.","code":"df_bin <- buzzr::bin(   df_called,   binwidth=15,  # 15-minute bins   calculate_rate = TRUE  # calculate our detection rates for us )  head(df_bin) ##    bin_filetime        bin_datetime detections_ins_buzz detections_mech_plane ##           <num>              <POSc>               <int>                 <int> ## 1:            0 2025-07-04 00:00:00                   1                    37 ## 2:          900 2025-07-04 00:15:00                   3                    22 ## 3:         1800 2025-07-04 00:30:00                   2                   106 ## 4:         2700 2025-07-04 00:45:00                   2                    60 ## 5:         3600 2025-07-04 01:00:00                   2                    62 ## 6:         4500 2025-07-04 01:15:00                   0                    12 ##    frames detectionrate_ins_buzz detectionrate_mech_plane ##     <num>                  <num>                    <num> ## 1:    938            0.001066098               0.03944563 ## 2:    937            0.003201708               0.02347919 ## 3:    938            0.002132196               0.11300640 ## 4:    937            0.002134472               0.06403415 ## 5:    938            0.002132196               0.06609808 ## 6:    937            0.000000000               0.01280683 plot(   df_bin$bin_datetime,   df_bin$detections_ins_buzz )"},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"how-buzzr-identifies-groups","dir":"Articles","previous_headings":"Binning","what":"How buzzr identifies groups","title":"Using buzzr to handle buzzdetect data","text":"binning, buzzr drops columns frame times, neuron activations, detection rates. , bin, frame counts total detections summed. requested, detection rates also calculated. Every remaining column used group binning. cause unexpected results ’ve created custom columns. example: buzzr prints message showing grouping columns just case groupings unintended. can see bins contain half many frames expected weren’t aware grouping logic.","code":"df_called$newcol <- rep(c('A', 'B'), nrow(df_called)/2)  df_bin_customgroups <- buzzr::bin(   df_called,   binwidth=15,  # 15-minute bins   calculate_rate = TRUE  # calculate our detection rates for us ) ## Grouping time bins using columns: newcol head(df_bin_customgroups) ##    newcol bin_filetime        bin_datetime detections_ins_buzz ##    <char>        <num>              <POSc>               <int> ## 1:      A            0 2025-07-04 00:00:00                   1 ## 2:      B            0 2025-07-04 00:00:00                   0 ## 3:      A          900 2025-07-04 00:15:00                   1 ## 4:      B          900 2025-07-04 00:15:00                   2 ## 5:      B         1800 2025-07-04 00:30:00                   2 ## 6:      A         1800 2025-07-04 00:30:00                   0 ##    detections_mech_plane frames detectionrate_ins_buzz detectionrate_mech_plane ##                    <int>  <num>                  <num>                    <num> ## 1:                    16    469            0.002132196               0.03411514 ## 2:                    21    469            0.000000000               0.04477612 ## 3:                    11    469            0.002132196               0.02345416 ## 4:                    11    468            0.004273504               0.02350427 ## 5:                    56    469            0.004264392               0.11940299 ## 6:                    50    469            0.000000000               0.10660981"},{"path":[]},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"binning-a-directory","dir":"Articles","previous_headings":"Reading entire directories","what":"Binning a directory","title":"Using buzzr to handle buzzdetect data","text":"steps can completed every file directory (subdirectories) single command: buzzr::bin_directory. , just combine arguments ’ve seen . Rebinning requires single command!","code":"df_fullbin <- buzzr::bin_directory(   dir_results=dir_data,   thresholds = c(ins_buzz=-1.2),   posix_formats = '%y%m%d_%H%M',   first_match = FALSE,   drop_filetime = TRUE,   dir_nesting = c('flower','recorder'),   return_filename = TRUE,   tz = 'America/New_York',   binwidth = 20,   calculate_rate = TRUE ) ## Grouping time bins using columns: flower, recorder, filename head(df_fullbin) ##     flower recorder                   filename        bin_datetime ##     <char>   <char>                     <char>              <POSc> ## 1: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 00:00:00 ## 2: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 00:20:00 ## 3: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 00:40:00 ## 4: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 01:00:00 ## 5: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 01:20:00 ## 6: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 01:40:00 ##    detections_ins_buzz frames detectionrate_ins_buzz ##                  <int>  <num>                  <num> ## 1:                   1   1250                 0.0008 ## 2:                   4   1250                 0.0032 ## 3:                   3   1250                 0.0024 ## 4:                   2   1250                 0.0016 ## 5:                   0   1250                 0.0000 ## 6:                   0   1250                 0.0000 print(unique(df_fullbin$flower)) ## [1] \"chicory\"    \"mustard\"    \"pumpkin\"    \"soybean\"    \"watermelon\" head(bin(df_fullbin, 120)) ## Grouping time bins using columns: flower, recorder, filename ##     flower recorder                   filename        bin_datetime ##     <char>   <char>                     <char>              <POSc> ## 1: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 00:00:00 ## 2: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 02:00:00 ## 3: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 04:00:00 ## 4: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 06:00:00 ## 5: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 08:00:00 ## 6: chicory    1_104 250704_0000_buzzdetect.csv 2025-07-04 10:00:00 ##    detections_ins_buzz frames ##                  <int>  <num> ## 1:                  10   7500 ## 2:                   7   7500 ## 3:                   1   7500 ## 4:                 878   7500 ## 5:                1460   7500 ## 6:                 111   7500"},{"path":"https://osu-bee-lab.github.io/buzzr/articles/buzzr.html","id":"reading-a-directory","dir":"Articles","previous_headings":"Reading entire directories","what":"Reading a directory","title":"Using buzzr to handle buzzdetect data","text":"may also want read directory without binning results. example may want try multiple different thresholds efficiently, maybe want extract positive frames, examine behavior activation values. function buzzr::read_directory, behaves expect given information .","code":"df_fullread <- buzzr::read_directory(   dir_results=dir_data,   posix_formats = '%y%m%d_%H%M',   first_match = FALSE,   drop_filetime = TRUE,   dir_nesting = c('flower','recorder'),   return_filename = TRUE,   tz = 'America/New_York' )  nrow(df_fullread) ## [1] 450000"},{"path":"https://osu-bee-lab.github.io/buzzr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Luke hearon. Maintainer.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hearon L (2026). buzzr: Tools wrangling buzzdetect results. R package version 1.0.0, https://OSU-Bee-Lab.github.io/buzzr.","code":"@Manual{,   title = {buzzr: Tools for wrangling buzzdetect results},   author = {Luke Hearon},   year = {2026},   note = {R package version 1.0.0},   url = {https://OSU-Bee-Lab.github.io/buzzr}, }"},{"path":"https://osu-bee-lab.github.io/buzzr/index.html","id":"buzzr","dir":"","previous_headings":"","what":"Tools for wrangling buzzdetect results","title":"Tools for wrangling buzzdetect results","text":"buzzr R package reading, shaping, plotting results buzzdetect. buzzr yet hosted CRAN, installed usual install.packages call. Instead, install package devtools (can installed via install.packages), run command devtools::install_github(repo='OSU-Bee-Lab/buzzr'). See walkthrough vignette detailed introduction!","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/bin.html","id":null,"dir":"Reference","previous_headings":"","what":"Bin results by time and count detections — bin","title":"Bin results by time and count detections — bin","text":"Given results file, group results bins time sum detection_ columns. Can re-bin previously binned results, though gives weird results new bin multiple old (e.g., bin(10), bin(15)). Optionally, calculate detection rate detection_ columns (simply total detections divided total frames). Generally, calculating detection rate best final step. example, may first bin 1 minute bins compress dataset, re-bin 15 minutes graphing, re-bin 1 hour one model , re-bin 1 day another.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/bin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bin results by time and count detections — bin","text":"","code":"bin(results, binwidth, calculate_rate = F)"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/bin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bin results by time and count detections — bin","text":"binwidth desired width bin minutes calculate_rate detection rate detection_ columns calculated? Takes total detections, divides number frames, outputs detectionrate_ column. thresholds named numeric vector names corresponding neuron names values corresponding desired detection threshold neuron.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/bin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bin results by time and count detections — bin","text":"data.table bin_ time column (bin_filetime bin_datetime), detection_ columns input, frames column counting total frames bin.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/bin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Bin results by time and count detections — bin","text":"Drops activation columns.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/bin_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Read and bin all buzzdetect results in a directory — bin_directory","title":"Read and bin all buzzdetect results in a directory — bin_directory","text":"Serves one-step implementation read_directory, call_detections, bin. See documentation functions details.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/bin_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read and bin all buzzdetect results in a directory — bin_directory","text":"","code":"bin_directory(   dir_results,   thresholds,   posix_formats = NA,   first_match = FALSE,   drop_filetime = TRUE,   dir_nesting = NULL,   return_filename = FALSE,   tz = NA,   binwidth = 5,   calculate_rate = FALSE )"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/bin_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read and bin all buzzdetect results in a directory — bin_directory","text":"dir_results directory holding buzzdetect results read. thresholds named numeric vector names corresponding neuron names values corresponding desired detection threshold neuron. posix_formats Character vector POSIX format codes convert file name start time. NA, leaves results file time. See file_start_time. first_match multiple formats match, time returned NA (FALSE) first matching format accepted (TRUE)? drop_filetime column storing file time (start_filetime bin_filetime) removed results? Ignored POSIX formats given. dir_nesting character vector used name directory levels results file. element becomes column output, storing components path. example, dir_nesting = c('site', 'recorder') path data/2026/siteA/recorder_4/250704_11343_buzzdetect.csv add site column (holding value 'siteA') recorder column (holding value 'recorder_4'). return_filename boolean representing whether return filename element/column. tz time zone results, base::.POSIXct.. results already start_datetime bin_datetime column, ignored. binwidth desired width bin minutes","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/bin_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read and bin all buzzdetect results in a directory — bin_directory","text":"data.table","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/call_detections.html","id":null,"dir":"Reference","previous_headings":"","what":"Call detections using thresholds — call_detections","title":"Call detections using thresholds — call_detections","text":"Call detections using thresholds","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/call_detections.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Call detections using thresholds — call_detections","text":"","code":"call_detections(results, thresholds)"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/call_detections.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Call detections using thresholds — call_detections","text":"results data frame buzzdetect results, created read_results.. Must activation_ columns corresponding neurons named thresholds must detections_ column . thresholds named numeric vector names corresponding neuron names values corresponding desired detection threshold neuron.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/call_detections.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Call detections using thresholds — call_detections","text":"","code":"call_detections(   results = buzzr::read_results('models/model_general_v3/output/testbuzz_buzzdetect.csv'),   thresholds = c(ins_buzz = -1.2, ambient_rain = -1) ) #> Error in data.table::fread(path_results): File 'models/model_general_v3/output/testbuzz_buzzdetect.csv' does not exist or is non-readable. getwd()=='/home/runner/work/buzzr/buzzr/docs/reference'"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/commontime.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce all dates to the same day, preserving time of day — commontime","title":"Coerce all dates to the same day, preserving time of day — commontime","text":"input times, date coerced 2000-01-01 time zone choice (defaults current time zone). makes prettier graphing using time day numeric (e.g., allows ggplot2::scale_x_datetime) allows plotting data different days common X axis.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/commontime.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce all dates to the same day, preserving time of day — commontime","text":"","code":"commontime(times, tz = Sys.timezone())"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/commontime.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce all dates to the same day, preserving time of day — commontime","text":"times vector POSIX times.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/file_start_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract timestamps from paths — file_start_time","title":"Extract timestamps from paths — file_start_time","text":"function takes vector file paths vector POSIX formats attempts extract start time file. See base::format.POSIXct format specifications.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/file_start_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract timestamps from paths — file_start_time","text":"","code":"file_start_time(paths, posix_formats, tz, first_match = FALSE)"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/file_start_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract timestamps from paths — file_start_time","text":"paths Character vector file paths posix_formats Character vector POSIX format codes convert file name start time. tz time zone results, base::.POSIXct. first_match multiple formats match, time returned NA (FALSE) first matching format accepted (TRUE)?","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/file_start_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract timestamps from paths — file_start_time","text":"POSIXct vector","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/file_start_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract timestamps from paths — file_start_time","text":"","code":"paths <- c(   # April 6th, 2022, 1:34PM   'foo/bar/220406_1334_buzzdetect.csv',    # March 12th, 1924, 1:42PM   'bar/lorem/19240312_134200_buzzdetect.csv',    # August 25th, 2024, 8:19 AM   'bar/lorem/20240825_081900_buzzdetect.csv' )  # YYYYMMDD_HHMMSS vs YYMMDDHHMM; these formats will conflict with one another posix_formats <- c('%Y%m%d_%H%M%S', '%y%m%d_%H%M')   file_start_time(paths, posix_formats, tz='America/New_York', accept_first_match=FALSE) #> Error in file_start_time(paths, posix_formats, tz = \"America/New_York\",     accept_first_match = FALSE): unused argument (accept_first_match = FALSE) # the second date will match both formats with different times, throwing a warning and returning NA # the third date will match both formats, but the times are identical. It silently ignores the duplication.  file_start_time(paths, posix_formats, tz='America/New_York', accept_first_match=TRUE) #> Error in file_start_time(paths, posix_formats, tz = \"America/New_York\",     accept_first_match = TRUE): unused argument (accept_first_match = TRUE) # note that if we put the two-year format first, it would override the 4-year format # and interpret the timestamp of our second file as 2024 instead of 1924!"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/label_hour.html","id":null,"dir":"Reference","previous_headings":"","what":"A simplified scale_x_datetime label that returns only the hour of the day (for use with commontime) — label_hour","title":"A simplified scale_x_datetime label that returns only the hour of the day (for use with commontime) — label_hour","text":"simplified scale_x_datetime label returns hour day (use commontime)","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/label_hour.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A simplified scale_x_datetime label that returns only the hour of the day (for use with commontime) — label_hour","text":"","code":"label_hour()"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/label_hour.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A simplified scale_x_datetime label that returns only the hour of the day (for use with commontime) — label_hour","text":"function takes POSIX values returns hours. See examples use.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/label_hour.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A simplified scale_x_datetime label that returns only the hour of the day (for use with commontime) — label_hour","text":"","code":"# ggplot2::scale_x_datetime(labels=buzzr::label_hour())"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/list_matching_tag.html","id":null,"dir":"Reference","previous_headings":"","what":"List all files matching a tag (e.g., '_buzzdetect') — list_matching_tag","title":"List all files matching a tag (e.g., '_buzzdetect') — list_matching_tag","text":"List files matching tag (e.g., '_buzzdetect')","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/list_matching_tag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all files matching a tag (e.g., '_buzzdetect') — list_matching_tag","text":"","code":"list_matching_tag(dir_in, tag)"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/palette.html","id":null,"dir":"Reference","previous_headings":"","what":"The buzzdetect color palette — palette","title":"The buzzdetect color palette — palette","text":"named, discrete version magma color palette (magma frequently used spectrograms). See viridis::magma continuous version.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/palette.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The buzzdetect color palette — palette","text":"","code":"palette"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/palette.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"The buzzdetect color palette — palette","text":"object class character length 8.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/read_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Read all buzzdetect results in a directory, recursively — read_directory","title":"Read all buzzdetect results in a directory, recursively — read_directory","text":"Applies read_results entire directory, joining results. optionally adding columns parent directories.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/read_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read all buzzdetect results in a directory, recursively — read_directory","text":"","code":"read_directory(   dir_results,   posix_formats = NA,   first_match = FALSE,   drop_filetime = TRUE,   dir_nesting = NULL,   return_filename = FALSE,   tz = NA )"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/read_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read all buzzdetect results in a directory, recursively — read_directory","text":"dir_results directory holding buzzdetect results read. posix_formats Character vector POSIX format codes convert file name start time. NA, leaves results file time. See file_start_time. first_match multiple formats match, time returned NA (FALSE) first matching format accepted (TRUE)? drop_filetime column storing file time (start_filetime bin_filetime) removed results? Ignored POSIX formats given. dir_nesting character vector used name directory levels results file. element becomes column output, storing components path. example, dir_nesting = c('site', 'recorder') path data/2026/siteA/recorder_4/250704_11343_buzzdetect.csv add site column (holding value 'siteA') recorder column (holding value 'recorder_4'). return_filename boolean representing whether return filename element/column. tz time zone results, base::.POSIXct.. results already start_datetime bin_datetime column, ignored.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/read_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Read buzzdetect results — read_results","title":"Read buzzdetect results — read_results","text":"function can read results stage analysis. File formats can .csv .rds. File contents can raw buzzdetect results (.csv \"start\" column column neuron activation), unbinned results (row frame, start columns start_datetime /start_filetime, results columns activations detections), binned results (row bin, start columns bin_datetime /bin_filetime, results columns detections). results file can results one audio file merged results (created buzzr:read_directory buzzr:bin_directory).","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/read_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read buzzdetect results — read_results","text":"","code":"read_results(   path_results,   posix_formats = NA,   first_match = FALSE,   drop_filetime = TRUE,   tz = NA,   dir_nesting = NULL,   return_filename = FALSE )"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/read_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read buzzdetect results — read_results","text":"path_results path buzzdetect result file can read read_results. posix_formats Character vector POSIX format codes convert file name start time. NA, leaves results file time. See file_start_time. first_match multiple formats match, time returned NA (FALSE) first matching format accepted (TRUE)? drop_filetime column storing file time (start_filetime bin_filetime) removed results? Ignored POSIX formats given. tz time zone results, base::.POSIXct.. results already start_datetime bin_datetime column, ignored. dir_nesting character vector used name directory levels results file. element becomes column output, storing components path. example, dir_nesting = c('site', 'recorder') path data/2026/siteA/recorder_4/250704_11343_buzzdetect.csv add site column (holding value 'siteA') recorder column (holding value 'recorder_4'). return_filename boolean representing whether return filename element/column.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/read_results.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read buzzdetect results — read_results","text":"NOTE: \"start\" columns raw buzzdetect files renamed \"start_filetime\". enables buzzr discriminate frames bins, file-times real-world-times.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/theme_buzzr.html","id":null,"dir":"Reference","previous_headings":"","what":"A ggplot theme for aesthetic plotting of buzzdetect results. — theme_buzzr","title":"A ggplot theme for aesthetic plotting of buzzdetect results. — theme_buzzr","text":"ggplot theme aesthetic plotting buzzdetect results.","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/theme_buzzr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A ggplot theme for aesthetic plotting of buzzdetect results. — theme_buzzr","text":"","code":"theme_buzzr(mode = \"light\")"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/theme_buzzr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A ggplot theme for aesthetic plotting of buzzdetect results. — theme_buzzr","text":"mode theme take light dark color palette?","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/theme_buzzr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A ggplot theme for aesthetic plotting of buzzdetect results. — theme_buzzr","text":"ggplot2 theme","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/theme_buzzr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A ggplot theme for aesthetic plotting of buzzdetect results. — theme_buzzr","text":"","code":"# (some ggplot code) + # theme_buzzr(mode='light')"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/time_of_day.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the time of day as a 0-1 value (left-inclusive) where 0 represents midnight — time_of_day","title":"Get the time of day as a 0-1 value (left-inclusive) where 0 represents midnight — time_of_day","text":"Get time day 0-1 value (left-inclusive) 0 represents midnight","code":""},{"path":"https://osu-bee-lab.github.io/buzzr/reference/time_of_day.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the time of day as a 0-1 value (left-inclusive) where 0 represents midnight — time_of_day","text":"","code":"time_of_day(times, time_format = \"proportion\")"},{"path":"https://osu-bee-lab.github.io/buzzr/reference/time_of_day.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the time of day as a 0-1 value (left-inclusive) where 0 represents midnight — time_of_day","text":"times vector POSIX times.","code":""}]
